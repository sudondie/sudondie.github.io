document.addEventListener("DOMContentLoaded",(function(){var e=[].slice.call(document.querySelectorAll("img.lazy")),t=[].slice.call(document.querySelectorAll(".lazy-background")),n=[].slice.call(document.querySelectorAll("[data-bg]"));if("IntersectionObserver"in window){let r=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){let t=e.target;t.src=t.dataset.src,t.srcset=t.dataset.srcset,t.classList.remove("lazy"),r.unobserve(t)}}))}));e.forEach((function(e){r.observe(e)}));let o=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.classList.add("visible"),o.unobserve(e.target))}))}));t.forEach((function(e){o.observe(e)}));let a=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){let t=e.target;t.style.backgroundImage="url("+t.dataset.bg+")",a.unobserve(t)}}))}));n.forEach((function(e){a.observe(e)}))}else e.forEach((function(e){e.src=e.dataset.src,e.srcset=e.dataset.srcset})),t.forEach((function(e){e.classList.add("visible")})),n.forEach((function(e){e.style.backgroundImage="url("+e.dataset.bg+")"}))}));const inputText=document.querySelector(".input-text"),outputText=document.querySelector(".output-text"),numpadText=document.querySelector(".numpad-buttons"),operationsText=document.querySelector(".operations"),extraOperationsMain=document.querySelector(".extra-operations"),extraOperationsText=document.querySelector(".extra-operations-numpad"),extraArrowText=document.querySelector(".extra-operations",":before"),divs=[numpadText,operationsText,extraOperationsText],numpad=["7","8","9","4","5","6","1","2","3","0",".","="],operations=["c","/","*","-","+"],extraOperations=["inv","rad","%","sin","cos","tan","ln","log","√","π","e","^","(",")","!"],extraOperationsInverted=["inv","rad","%","sin^-1","cos^-1","tan^-1","e^x","10^x","x^2","π","e","^","(",")","!"];numpad.map(e=>numpadText.insertAdjacentHTML("beforeend",`<button value="${e}">${e}</button>`)),operations.map(e=>operationsText.insertAdjacentHTML("beforeend",`<button value="${e}">${e}</button>`)),extraOperations.map(e=>extraOperationsText.insertAdjacentHTML("beforeend",`<button value="${e}">${e}</button>`));let calculate=target=>{switch(target){case"c":inputText.textContent="",outputText.textContent="";break;case"=":let result=eval(inputText.textContent.slice(0,inputText.textContent.length-1));result=1==Number.isInteger(result)?result:result.toFixed(3),outputText.textContent=result,inputText.textContent="";break;case"sin":inputText.textContent+="("}};extraArrowText.addEventListener("click",()=>{extraOperationsMain.classList.toggle("clicked")}),divs.forEach(e=>{e.addEventListener("click",e=>{let t=e.target.value;void 0!==t&&(inputText.textContent+=t),calculate(t)})});